apiVersion: napt/v1
project: "napt - Windows Apps"

apps:
  - name: "Git for Windows"
    id: "napt-git"

    source:
      strategy: api_github
      repo: "git-for-windows/git"
      asset_pattern: "Git-.*-64-bit\\.exe$"
      version_pattern: "v?([0-9.]+)\\.windows"

    psadt:
      app_vars:
        AppName: "Git for Windows"
        AppVersion: "${discovered_version}"
        AppArch: "x64"
      install: |
        # Git for Windows silent install with default options
        Start-ADTProcess -Path "$dirFiles\Git-${discovered_version}-64-bit.exe" -Parameters "/VERYSILENT /NORESTART /NOCANCEL /SP- /CLOSEAPPLICATIONS /RESTARTAPPLICATIONS /COMPONENTS=`"icons,ext\reg\shellhere,assoc,assoc_sh`""
      uninstall: |
        # Git for Windows uninstall (handles Inno Setup uninstaller automatically)
        Uninstall-ADTApplication -Name "Git"

